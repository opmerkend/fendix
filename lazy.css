/* ==========================================================================
   LAZY.CSS - FENDIX
   Non-critical styles loaded asynchronously
   ========================================================================== */

/* === SWIPER OVERFLOW === */
.swiper,
.swiper-wrapper {
  overflow: visible !important;
}

/* === GSAP ANIMATION FALLBACK === */
/* Ensure elements are visible if GSAP fails to load */
[data-animate] {
  opacity: 1 !important;
  transform: none !important;
}

/* Only hide when GSAP is ready (class added by fendix.js) */
.gsap-ready [data-animate="fadein"],
.gsap-ready [data-animate="reveal-list"] > .col,
.gsap-ready [data-animate="reveal-list"] > .card,
.gsap-ready [data-animate="reveal-list"] > .item {
  opacity: 0;
  transform: translateY(30px);
}

/* === CTA SECTION FADE === */

/* === HOVER EFFECTS === */
@media (hover: hover) {
  .card:hover .card-image {
    transform: scale(1.05);
  }
  
  .card-image {
    transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }
  
  .nav-subitem:hover .nav-subitem_iconwrap {
    transform: scale(1.05);
  }
  
  .nav-subitem_iconwrap {
    transition: transform 0.3s ease;
  }
  
  .footer-link:hover {
    color: var(--swatch--proactive-purple);
  }
  
  .footer-link {
    transition: color 0.2s ease;
  }
  
  .back-to-top:hover {
    opacity: 0.8;
  }
  
  .back-to-top {
    transition: opacity 0.2s ease;
  }
}

/* === FOCUS STATES === */
.button:focus-visible,
.navbar_link:focus-visible,
a:focus-visible {
  outline: 2px solid var(--swatch--proactive-purple);
  outline-offset: 2px;
}

/* === LOADING STATES === */
.is-loading {
  opacity: 0.6;
  pointer-events: none;
}

/* === SECTION TRANSITIONS === */
.section {
  opacity: 1;
  transition: opacity 0.3s ease;
}

/* === BADGE ANIMATIONS === */
.footer-badge {
  transition: transform 0.3s ease;
}

@media (hover: hover) {
  .footer-badge:hover {
    transform: scale(1.05);
  }
}

/* === SCROLL PROGRESS (optional) === */
.scroll-progress {
  position: fixed;
  top: 0;
  left: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--swatch--proactive-purple), var(--swatch--dark-purple));
  transform-origin: left;
  transform: scaleX(0);
  z-index: 9999;
  pointer-events: none;
}

/* === FILTER TRANSITIONS === */
[data-filter-item] {
  transition: opacity 0.3s ease, transform 0.3s ease;
}

[data-filter-item].is-hidden {
  opacity: 0;
  transform: scale(0.95);
  pointer-events: none;
}

/* === SMOOTH APPEAR === */
.appear {
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.6s ease, transform 0.6s ease;
}

.appear.is-visible {
  opacity: 1;
  transform: translateY(0);
}

/* === TESTIMONIAL CARDS === */
.testimonial-card {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

@media (hover: hover) {
  .testimonial-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
  }
}

/* === IMAGE REVEAL === */
.image-reveal {
  clip-path: inset(0 100% 0 0);
  transition: clip-path 0.8s cubic-bezier(0.65, 0, 0.35, 1);
}

.image-reveal.is-revealed {
  clip-path: inset(0 0 0 0);
}

/* === TEAM MEMBER CARDS === */
.team-card_image {
  transition: transform 0.4s ease;
}

@media (hover: hover) {
  .team-card:hover .team-card_image {
    transform: scale(1.08);
  }
}

/* === NAV INDICATOR === */
.nav-indicator {
  position: absolute;
  bottom: 0;
  height: 2px;
  background: var(--swatch--proactive-purple);
  transition: left 0.3s ease, width 0.3s ease;
}

/* === PARALLAX HELPER === */
[data-parallax] {
  will-change: transform;
}

/* === REDUCED MOTION === */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  .cta-stackimage,
  .cta-stackimage.is-left,
  .cta-stackimage.is-right {
    animation: none !important;
    transform: none !important;
  }
}

/* === PRINT STYLES === */
@media print {
  .navbar,
  .topbar,
  .footer,
  .modal-wrapper,
  .nav-overlay {
    display: none !important;
  }
  
  .section {
    break-inside: avoid;
  }
}
